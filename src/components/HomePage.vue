<template>
  <div id="root-home">
    <!-- å¤´éƒ¨æœç´¢æ¡† -->
    <HeaderBar class="head-comp"></HeaderBar>
    <!-- æ¨¡æ€ç»„ä»¶ -->
    <ModalPage></ModalPage>
    <!-- æ•è·çš„ç½‘é¡µåˆ—è¡¨ -->

    <template v-if="webListData.webList.length">
      <div class="list-con">
        <!-- ä½¿ç”¨å±æ€§é€ä¼  -->
        <WebList @closeLoading="toggleLoading"></WebList>
      </div>
    </template>
    <div class="info" v-else>
      <p>å†æ€ä¹ˆæ‰¾ä¹Ÿæ²¡æœ‰äº†ğŸ˜…ğŸ˜…</p>
    </div>

    <!-- åŠ è½½ä¸­æ¨¡æ€æ¡† -->
    <LoadingPage v-if="showLoading"></LoadingPage>
  </div>
</template>

<script setup>
import HeaderBar from './HeaderBar.vue'
import ModalPage from './ModalPage.vue'
import WebList from './WebList.vue'
import useWebListStore from '@/store/webList'
import LoadingPage from './LoadingPage.vue'
import { ref } from 'vue'

const showLoading = ref(false)
const webListData = useWebListStore()

// æ›´æ”¹åŠ è½½æ¡†çŠ¶æ€
const toggleLoading = (boo) => {
  showLoading.value = boo
}
</script>

<style lang="scss" scoped>
#root-home {
  height: calc(100vh - 40px);
  .list-con {
    height: calc(100% - 50px);
    overflow: auto;
  }
  .info {
    text-align: center;
    height: 40vh;
    line-height: 40vh;
    font-size: 40px;
  }
}
</style>
